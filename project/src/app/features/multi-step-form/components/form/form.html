<div
  class="mf px-[22px] py-[35px]"
  aria-live="polite"
  aria-labelledby="mf__title"
  aria-describedby="mf__description"
>
  @if (currentStep() === 1) {
    <h2 id="mf__title" class="txt-blue-950 text-preset-2">Personal Info</h2>
    <p id="mf__description" class="text-preset-3-regular">
      Please provide your name, email address, and phone number.
    </p>

    <form class="mf__form mt-8 flex flex-col gap-4">
      <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" maxlength="100" placeholder="e.g. Stephen King" />
      </div>
      <div class="form-group">
        <label>Email Address</label>
        <input
          type="text"
          name="email"
          maxlength="100"
          placeholder="e.g. stephenking@lorem.com"
          inputmode="email"
        />
      </div>
      <div class="form-group">
        <label>Phone Number</label>
        <input
          type="text"
          name="phone"
          maxlength="50"
          placeholder="e.g. stephenking@lorem.com"
          inputmode="tel"
        />
      </div>

      <div class="mf__actions--wrapper flex items-center justify-center">
        <div class="mf__actions flex w-full flex-row-reverse items-center">
          <button class="primary">Next Step</button>
        </div>
      </div>
    </form>
  }

  @if (currentStep() === 2) {
    <h2 id="mf__title" class="txt-blue-950 text-preset-2">Select your plan</h2>
    <p id="mf__description" class="text-preset-3-regular">
      You have the option of monthly or yearly billing.
    </p>

    <form class="mf__form mt-8 flex flex-col gap-4 md:gap-8">
      <div class="form-group">
        <ul class="cards" role="radiogroup">
          @for (plan of plans; track plan; let idx = $index) {
            <!--
            
             @todo, don't forget to adapt
            [attr.tabindex]="tip.value === tipValue ? 0 : -1"
              [attr.aria-checked]="tip.value === tipValue" -->
            <li #cardOption class="card" role="radio" (keydown)="keydownCard($event, idx)">
              <input
                class="card__radio visually-hidden"
                [id]="plan.id"
                type="radio"
                name="plan"
                [value]="plan.plan"
                [attr.data-value]="plan.plan"
              />
              <label [for]="plan.id" class="card__wrapper">
                <figure class="card__figure">
                  <svg
                    class="card__icon"
                    viewBox="0 0 40 40"
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-[40px] w-[40px]"
                  >
                    <use [attr.href]="plan.svg" />
                  </svg>
                  <figcaption class="card__information">
                    <h3 class="card__plan text-preset-3-medium txt-blue-950">{{ plan.plan }}</h3>
                    <p class="card__price text-preset-4-regular txt-grey-500">
                      ${{ plan.pricePerYear }}/yr
                    </p>
                    <p class="card__duration text-preset-5 txt-blue-950">{{ plan.duration }}</p>
                  </figcaption>
                </figure>
              </label>
            </li>
          }
        </ul>
      </div>
      <div class="form-group">
        <div class="switch__wrapper">
          <span class="text-preset-4-medium txt-blue-950">Monthly</span>
          <div class="checkbox-switch">
            <label class="switch" for="plan__duration">
              <input
                type="checkbox"
                id="plan__duration"
                aria-label="Toggle between Monthly and Yearly"
              />
              <span class="slider round"></span>
            </label>
          </div>
          <span class="text-preset-4-medium txt-grey-500">Yearly</span>
        </div>
      </div>

      <div class="mf__actions--wrapper flex items-center justify-center">
        <div class="mf__actions flex w-full items-center justify-between">
          <button>Go Back</button>
          <button class="primary">Next Step</button>
        </div>
      </div>
    </form>
  }

  @if (currentStep() === 3) {
    <h2 id="mf__title" class="txt-blue-950 text-preset-2">Pick add-ons</h2>
    <p id="mf__description" class="text-preset-3-regular">
      Add-ons help enhance your gaming experience.
    </p>
    <form class="mf__form mt-8 flex flex-col gap-4 md:gap-8">
      <div class="form-group">
        <ul class="add-ons" role="group">
          @for (addOn of addOns; track addOn; let idx = $index) {
            <li #addOnOption class="add-on" role="checkbox">
              <input
                class="add-on__checkbox visually-hidden"
                [id]="addOn.id"
                type="checkbox"
                [name]="addOn.id"
                [value]="addOn.value"
                [attr.data-value]="addOn.value"
              />
              <label [for]="addOn.id" class="add-on__wrapper">
                <figure class="add-on__figure">
                  <span class="add-on__square"></span>
                  <figcaption class="add-on__information">
                    <h3
                      class="add-on__label text-preset-4-medium txt-blue-950 md:text-preset-3-medium"
                    >
                      {{ addOn.label }}
                    </h3>
                    <p
                      class="add_on__information text-preset-5 txt-grey-500 md:text-preset-4-regular"
                    >
                      {{ addOn.information }}
                    </p>
                    <p class="add_on__price text-preset-5 md:text-preset-4-regular txt-purple-600">
                      +${{ addOn.price }}/mo
                    </p>
                  </figcaption>
                </figure>
              </label>
            </li>
          }
        </ul>
      </div>
      <div class="mf__actions--wrapper flex items-center justify-center">
        <div class="mf__actions flex w-full items-center justify-between">
          <button>Go Back</button>
          <button class="primary">Next Step</button>
        </div>
      </div>
    </form>
  }

  @if (currentStep() === 4) {
    <h2 id="mf__title" class="txt-blue-950 text-preset-2">Finishing up</h2>
    <p id="mf__description" class="text-preset-3-regular">
      Double-check everything looks OK before confirming.
    </p>
  }
</div>
